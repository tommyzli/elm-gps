<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Elm - GPS</title>
  <script type="text/javascript" src="elm.js"></script>
</head>

<body>
  <div id="elm-gps">
  </div>
</body>

<script type="text/javascript">
var div = document.getElementById("elm-gps");
var main = Elm.embed(Elm.Main, div, {coordinates: {"latitude": "", "longitude": ""}});
function getCoordinates() {
  if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        main.ports.coordinates.send({
          "latitude": position.coords.latitude.toString(),
          "longitude": position.coords.longitude.toString()
        });
      });
    }
}
getCoordinates();
</script>

</html>
